<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨¡å—åŠ è½½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-result {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
        }
        .info {
            color: #007bff;
        }
    </style>
</head>
<body>
    <h1>ğŸ” æ¨¡å—åŠ è½½æµ‹è¯•</h1>
    <div id="results"></div>

    <script type="module">
        const results = document.getElementById('results');

        function addResult(message, type = 'info') {
            const div = document.createElement('div');
            div.className = 'test-result';
            div.innerHTML = `<span class="${type}">${type.toUpperCase()}:</span> ${message}`;
            results.appendChild(div);
        }

        async function testModules() {
            try {
                // æµ‹è¯• 1: Three.js CDN
                addResult('æ­£åœ¨æµ‹è¯• Three.js CDN...', 'info');
                const THREE = await import('https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js');
                addResult('âœ… Three.js åŠ è½½æˆåŠŸï¼ç‰ˆæœ¬: ' + (THREE.REVISION || 'unknown'), 'success');

                // æµ‹è¯• 2: GLTFLoader
                addResult('æ­£åœ¨æµ‹è¯• GLTFLoader...', 'info');
                const { GLTFLoader } = await import('https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/loaders/GLTFLoader.js');
                addResult('âœ… GLTFLoader åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 3: utils.js
                addResult('æ­£åœ¨æµ‹è¯• utils.js...', 'info');
                const utils = await import('../utils.js');
                addResult('âœ… utils.js åŠ è½½æˆåŠŸï¼å¯¼å‡ºå‡½æ•°: ' + Object.keys(utils).join(', '), 'success');

                // æµ‹è¯• 4: renderer.js
                addResult('æ­£åœ¨æµ‹è¯• renderer.js...', 'info');
                const renderer = await import('../renderer.js');
                addResult('âœ… renderer.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 5: camera.js
                addResult('æ­£åœ¨æµ‹è¯• camera.js...', 'info');
                const camera = await import('../camera.js');
                addResult('âœ… camera.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 6: lighting.js
                addResult('æ­£åœ¨æµ‹è¯• lighting.js...', 'info');
                const lighting = await import('../lighting.js');
                addResult('âœ… lighting.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 7: scene.js
                addResult('æ­£åœ¨æµ‹è¯• scene.js...', 'info');
                const scene = await import('../scene.js');
                addResult('âœ… scene.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 8: model.js
                addResult('æ­£åœ¨æµ‹è¯• model.js...', 'info');
                const model = await import('../model.js');
                addResult('âœ… model.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 9: upload.js
                addResult('æ­£åœ¨æµ‹è¯• upload.js...', 'info');
                const upload = await import('../upload.js');
                addResult('âœ… upload.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 10: controls.js
                addResult('æ­£åœ¨æµ‹è¯• controls.js...', 'info');
                const controls = await import('../controls.js');
                addResult('âœ… controls.js åŠ è½½æˆåŠŸï¼', 'success');

                // æµ‹è¯• 11: main.js
                addResult('æ­£åœ¨æµ‹è¯• main.js...', 'info');
                const main = await import('../main.js');
                addResult('âœ… main.js åŠ è½½æˆåŠŸï¼', 'success');

                addResult('ğŸ‰ æ‰€æœ‰æ¨¡å—åŠ è½½æˆåŠŸï¼æ‚¨å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ index.html', 'success');

            } catch (error) {
                addResult('âŒ æ¨¡å—åŠ è½½å¤±è´¥: ' + error.message, 'error');
                console.error('è¯¦ç»†é”™è¯¯ä¿¡æ¯:', error);
            }
        }

        testModules();
    </script>
</body>
</html>




